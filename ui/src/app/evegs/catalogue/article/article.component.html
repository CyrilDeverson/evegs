<mat-expansion-panel>
    <mat-expansion-panel-header>
        <mat-panel-title i18n="@@catalogue.add-article">Ajouter un article</mat-panel-title>
    </mat-expansion-panel-header>

    <form novalidate [formGroup]="articleForm" #formDirective="ngForm"
        (ngSubmit)="onSubmit(); formDirective.resetForm()">
        <mat-form-field>
            <mat-label i18n="@@article.reference">Référence</mat-label>
            <input matInput formControlName="reference" />
        </mat-form-field>
        <mat-form-field>
            <mat-label i18n="@@article.label">Libellé</mat-label>
            <input matInput formControlName="libelle" />
        </mat-form-field>
        <button mat-icon-button type="submit" color="primary"
            [disabled]="articleForm.invalid || articleForm.pristine">
            <mat-icon>add_circle</mat-icon>
        </button>
        <button mat-icon-button type="reset" color="warn" [disabled]="!articleForm.touched">
            <mat-icon>cancel</mat-icon>
        </button>
        <div *ngIf="articleForm.controls.reference.errors?.referenceUnique">
            <span i18n="@@catalogue.reference-exists">Cette référence existe déjà.</span>
        </div>
    </form>
</mat-expansion-panel>
